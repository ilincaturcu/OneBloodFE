<div class="pickerContainer" [ngClass]="{stepperUp : stepCounter == 3 || stepCounter == 4}">
  <div class="jumbotron" *ngIf="stepCounter !== 3 && stepCounter !== 4" (click)="fetchDoctors()">
    <h1>Realizati o programare in 4 pasi simpli</h1>
  </div>
  <div class="stepper">
    <ul>
      <li><span class="numberCircle" [ngClass]="{currentStep : stepCounter==1}">1</span>
        <div class="stepperLabel">
          <span class="label" [ngClass]="{currentStepLabel : stepCounter==1}">Alegeti un doctor</span>
          <span class="subLabel" *ngIf="stepCounter !== 1">{{doctor}}</span>
        </div>
      </li>
      <li><span class="numberCircle" [ngClass]="{currentStep : stepCounter==2}">2</span>
        <div class="stepperLabel">
          <span class="label" [ngClass]="{currentStepLabel : stepCounter==2}">Alegeti o zi</span>
          <span class="subLabel" *ngIf="stepCounter !== 2 && stepCounter !== 1">{{day}}</span>
        </div>
      </li>
      <li><span class="numberCircle" [ngClass]="{currentStep : stepCounter==3}">3</span>
        <div class="stepperLabel">
        <span class="label" [ngClass]="{currentStepLabel : stepCounter==3}">Alegeti o ora</span>
        <span class="subLabel" *ngIf="stepCounter !== 2 && stepCounter !== 1">{{hour}}</span>
      </div>
      </li>
      <li><span class="numberCircle" [ngClass]="{currentStep : stepCounter==4}">4</span><span class="label"
          [ngClass]="{currentStepLabel : stepCounter==4}">Finalizati programarea</span>
      </li>
    </ul>
  </div>

  <div class="form" *ngIf="stepCounter == 1">
    <form [formGroup]="doctorForm" (ngSubmit)="submitdoctor()">
      <mat-form-field>
        <mat-label *ngIf="!doctorSubmitted || !f.doctor.errors">doctor</mat-label>
        <mat-select name="doctor" #doctor formControlName="doctor" (selectionChange)="pickdoctor(doctor.value)">
          <mat-option *ngFor="let doctor of doctors" [value]="doctor.name">
            {{doctor.name}}
          </mat-option>
        </mat-select>
        <div *ngIf="f.doctor.errors && doctorSubmitted" class="invalid-feedInapoi">
          <div *ngIf="f.doctor.errors.required">Alegeti un doctor</div>
        </div>
      </mat-form-field>
      <div class="formButtons">
        <button class="actionBtn" type="submit">Inainte</button>
      </div>
    </form>
  </div>


  <div class="form" *ngIf="stepCounter == 2">
    <form [formGroup]="dayForm" (ngSubmit)="submitday()">
      <mat-form-field>
        <mat-label *ngIf="!daySubmitted || !g.day.errors">day</mat-label>
        <mat-select name="day" #day formControlName="day" (selectionChange)="pickday(day.value)">
          <mat-option *ngFor="let day of days" [value]="day">
            {{day}}
          </mat-option>
        </mat-select>
        <div *ngIf="g.day.errors && daySubmitted" class="invalid-feedInapoi">
          <div *ngIf="g.day.errors.required">Alegeti o zi</div>
        </div>
      </mat-form-field>
      <div class="formButtons">
        <button class="actionBtn" type="button" (click)="stepCounter = 1">Inapoi</button>
        <button class="actionBtn" type="submit">Inainte</button>
      </div>
    </form>
  </div>


  <!-- <div class="form" id="thirdForm">
      <div class="card" *ngFor="let doctor of doctors; let i = index"
           (click)="selectedDoctorDetails = doctor; pickHour(doctor)">
        <div class="cardTitle">
          <div class="cardBasic"> -->
  <!-- <img class="avatar" [src]="imgPath()" *ngIf="doctor.profilePic"
                 alt="Avatar">
            <img class="avatar" src="http://fit.ie/fitnew/wp-content/uploads/2014/11/no-profile-image.jpg"
                 *ngIf="!doctor.profilePic"
                 alt="Avatar"> -->
  <!-- <div class="cardName">
              <h3>{{doctor.firstName}}</h3> -->
  <!-- <h5>
                <span class="rating">Rating:
                   <span class="stars-container stars-{{getRating(doctor)}}">★★★★★</span>
              </span> ({{doctor.rates.length}})</h5> -->
  <!-- </div>
          </div> -->
  <!-- <div class="cardBtn">
            <fa-icon icon="calendar-alt" id="calendarIcon"></fa-icon>
            <h5 id="calendarLabel">Check Calendar</h5>
          </div> -->
  <!-- </div> -->

  <!-- <div *ngIf="selectedDoctor === i" class="cardDetails">
                 <h5>{{doctor.day}}</h5>
        </div>
      </div> -->

      <div class="form" *ngIf="stepCounter == 3">
    <form [formGroup]="hoursForm" (ngSubmit)="submithour()">
    <div class="timePicker">
      <h4 class="timePickerLabel">Orele disponibile:</h4>
      <mat-form-field>
        <mat-label id="hourLabel">Alegeti o ora:</mat-label>
        <mat-select (selectionChange)="pickHour(hour.value)" #hour formControlName="hour">
          <mat-option *ngFor="let hour of hours" [value]="hour">{{hour}}</mat-option>
        </mat-select>
      </mat-form-field>
      <div class="formButtons" *ngIf="hourPicked">
        <button class="actionBtn" (click)="stepCounter = 2">Inapoi</button>
        <button class="actionBtn" (click)="stepCounter = 4">Inainte</button>
      </div>
    </div>
    </form>
  </div>
</div>
<div class="wrapper">
  <div class="jumbotron" *ngIf="stepCounter === 4">
    <h1 *ngIf="!requestSent" id="confirmRequest">Finalizati programarea?</h1>
    <alert></alert>
  </div>



  <div *ngIf="stepCounter === 4 && selectedDoctor !== undefined" class="confirm">
    <div class="card">
      <div class="cardTitle">
        <div class="cardBasic">
          <!-- <img class="avatar" [src]="imgPath()" *ngIf="selectedDoctorDetails.profilePic"
                 alt="Avatar">
            <img class="avatar" src="http://fit.ie/fitnew/wp-content/uploads/2014/11/no-profile-image.jpg"
                 *ngIf="!selectedDoctorDetails.profilePic"
                 alt="Avatar"> -->
          <div class="cardName">
            <h3>{{selectedDoctor}}</h3>
          </div>
        </div>
        <div class="cardBtn">
          <h3>{{selectedDay}}, {{selectedHour}}</h3>
        </div>
      </div>
    </div>
    <div class="finalBtn" *ngIf="!requestSent">
      <button id="confirmBtn" (click)="sendRequest()">Send a request</button>
      <button id="cancelBtn" (click)="stepCounter = 3">Cancel</button>
    </div>
  </div>
</div>

<!-- <mat-toolbar *ngIf="successMsg" color="accent">{{ successMsg }}</mat-toolbar>
<mat-toolbar *ngIf="errorMsg" color="warn">{{ errorMsg }}</mat-toolbar>
<div class="form-container">

    <form (submit)="createAppointment()">
        <mat-form-field appearance="fill">
            <mat-label>Ziua</mat-label>
            <mat-select>
                <mat-option *ngFor="let day of days" [value]="day.value">
                    {{day.viewValue}}
                </mat-option>
            </mat-select>
        </mat-form-field>
        <mat-form-field appearance="fill">
            <mat-label>Ora</mat-label>
            <mat-select>
                <mat-option *ngFor="let hour of hours" [value]="hour.value">
                    {{hour.viewValue}}
                </mat-option>
            </mat-select>
        </mat-form-field>
        <mat-form-field>
            <input [(ngModel)]="name" name="name" matInput placeholder="Name">
        </mat-form-field>
        <button mat-raised-button color="primary">Make Appointment</button>
    </form>
</div> -->